<div class="admin-dashboard container card rounded-0 shadow1 p-5">
  <div class=" ">
    <div class="title-decor position-relative">
      <h1 class="title text text-center mt-3 mb-3 text-warning"
          style="font-family: 'Buffalo', sans-serif; font-size: 30px">
        Admin Dashboard
      </h1>
    </div>
    <h3 class="card-title" >Posts</h3>
    <button class="add-post text-white bg-warning rounded-1 border-0 p-2 fw-semibold ms-3" (click)="openEditor()" >New post</button>

    <!--Table-->

<!--      <div class="spinner-container " *ngIf="dataSource.data == null">-->
<!--        <mat-spinner class="ms-auto me-auto"></mat-spinner>-->
<!--      </div>-->
      <table class="mat-elevation-z8 mt-4 full-width"
             style="width: 300px;max-width: 40%"
             mat-table
             [dataSource]="dataSource"
             matSort matSortActive="id"
             (matSortChange)="announceSortChange($event)"
             matSortDisableClear>
      <ng-container matColumnDef="_id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by ID"> ID </th>
        <td mat-cell *matCellDef="let post;let id = index "> {{post._id}} </td>

      </ng-container>
      <ng-container matColumnDef="_title" >

        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Title" > Title </th>
        <td mat-cell *matCellDef="let post" >
          <div class="row p-3">
            <div class="col-xxl-8 text-center fs-5 mt-auto mb-auto">{{post._title}}</div>
            <div class="col-xxl-4"><img style="width: 100%;height: 100%" [src]="post._imgURL" alt=""></div>
          </div>
          </td>
      </ng-container>
      <ng-container matColumnDef="_article">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Article"> Article </th>
        <td mat-cell *matCellDef="let post"> <div class="row">{{post._article}}</div> </td>
      </ng-container>

      <ng-container matColumnDef="_imgURL">
        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by ImgURL"> ImgURL </th>
        <td mat-cell *matCellDef="let post"> <div class="row">{{post._imgURL}}</div></td>
      </ng-container>

        <ng-container matColumnDef="deleteRow">
        <th mat-header-cell *matHeaderCellDef >Action</th>
        <td mat-cell *matCellDef="let post">
          <button
            mat-button
            class="button-remove z-50 border-0 text-white bg-danger fw-bold"
            (click)="removeRow(post._id,$event)"
          >
            Delete
          </button>
          <button
            mat-button
            class="ms-3 z-50 border-0 text-white bg-success fw-bold"
            (click)="editPost(post,$event)"
          >
            Edit
          </button>
         </td>

      </ng-container>

      <tr mat-header-row *matHeaderRowDef ="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="getRecord(row)" style="cursor: pointer">
      </tr>

      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                     showFirstLastButtons
                     aria-label="Select page of periodic elements">
      </mat-paginator>

    </div>

<router-outlet ></router-outlet>

</div>
